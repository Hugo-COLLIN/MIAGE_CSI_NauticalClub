---
import CRUDView from '../components/CRUDView.astro';

const fields = [
  {
    name: 'type_forfait',
    label: 'Type de forfait',
    type: 'select',
    required: true,
    options: [
      {value: '1_seance', label: '1 Séance'},
      {value: '2_seances', label: '2 Seances'},
      {value: '5_seances', label: '5 Séances'}
    ]
  },
  {
    name: 'prix',
    label: 'Prix',
    type: 'number',
    required: true,
    min: 0,
    step: '0.01'
  },
  {
    name: 'date_achat',
    label: 'Date d\'achat',
    type: 'date',
    required: true
  },
  {
    name: 'date_expiration',
    label: 'Date d\'expiration',
    type: 'date',
    required: true
  },
  {
    name: 'seances_restantes',
    label: 'Séances restantes',
    type: 'number',
    required: true,
    min: 0
  },
  {
    name: 'id_partenaire',
    label: 'Partenaire',
    type: 'number'
  },
  {
    name: 'id_paiement',
    label: 'Paiement',
    type: 'number',
    required: true
  },
  {
    name: 'id_client',
    label: 'Client',
    type: 'number',
    required: true
  }
];

const columns = [
  'Type forfait',
  'Prix',
  'Date achat',
  'Date expiration',
  'Séances restantes',
  'Partenaire',
  'Paiement',
  'Client'
];
---

<CRUDView
    apiUrl="/api/forfaits"
    fields={fields}
    title="Gestion des Forfaits"
    idField="id_forfait"
    columns={columns}
/>
